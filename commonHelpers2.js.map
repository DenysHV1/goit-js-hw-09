{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\nconst inputEmail = document.querySelector('.input-email');\nconst message = document.querySelector('.message');\nconst done = document.querySelector('.text');\nconst emailError = document.querySelector('.error');\nconst emptyError = document.querySelector('.empty-error');\n\nconst formData = {\n  userEmail: '',\n  userMessage: '',\n};\n\nif (localStorage.getItem('feedback-form-state')) {\n  const storedData = JSON.parse(localStorage.getItem('feedback-form-state'));\n  inputEmail.value = storedData.email;\n  message.value = storedData.message;\n}\n\nform.addEventListener('submit', oneClickSend);\n\nfunction oneClickSend(event) {\n  event.preventDefault();\n\n  const email = event.target.elements.email.value.trim().toLowerCase();\n  const message = event.target.elements.message.value.trim();\n\n    //перевірка 1\n\tconst array = ['!','£','$','%','^','&','*','(',')','_','-','+','=','#','~','/','?','{','}','[',']','`','¬','|','\"',',','<','>',':',';',];\n\n  for (let i = 0; i < array.length; i += 1) {\n    if (email.includes(array[i])) {\n      emailError.textContent = `Invalid character in name: ${array[i]}`;\n      return emailError.textContent;\n    }\n  }\n\n  emailError.textContent = '';\n\n  //перевірка 2\n\n  if (!email || !message) {\n    done.textContent = '';\n    emptyError.textContent = 'Please fill in all fields';\n    return;\n  }\n\n  emptyError.textContent = '';\n\n  //result\n  const formData = {\n    userEmail: email,\n    userMessage: message,\n  };\n\n  done.textContent = 'Success!';\n  console.log(formData);\n  form.reset();\n  localStorage.removeItem('feedback-form-state');\n}\n\nconst feedbackFormState = {\n  email: '',\n  message: '',\n};\n\ninputEmail.addEventListener('input', event => {\n  feedbackFormState.email = event.target.value;\n  localStorage.setItem(\n    'feedback-form-state',\n    JSON.stringify(feedbackFormState)\n  );\n});\n\nmessage.addEventListener('input', event => {\n  feedbackFormState.message = event.target.value;\n  localStorage.setItem(\n    'feedback-form-state',\n    JSON.stringify(feedbackFormState)\n  );\n});\n"],"names":["form","inputEmail","message","done","emailError","emptyError","storedData","oneClickSend","event","email","array","i","formData","feedbackFormState"],"mappings":"uFAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAa,SAAS,cAAc,QAAQ,EAC5CC,EAAa,SAAS,cAAc,cAAc,EAOxD,GAAI,aAAa,QAAQ,qBAAqB,EAAG,CAC/C,MAAMC,EAAa,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EACzEL,EAAW,MAAQK,EAAW,MAC9BJ,EAAQ,MAAQI,EAAW,OAC7B,CAEAN,EAAK,iBAAiB,SAAUO,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAQD,EAAM,OAAO,SAAS,MAAM,MAAM,OAAO,cACjDN,EAAUM,EAAM,OAAO,SAAS,QAAQ,MAAM,OAG/CE,EAAQ,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAElI,QAASC,EAAI,EAAGA,EAAID,EAAM,OAAQC,GAAK,EACrC,GAAIF,EAAM,SAASC,EAAMC,CAAC,CAAC,EACzB,OAAAP,EAAW,YAAc,8BAA8BM,EAAMC,CAAC,CAAC,GACxDP,EAAW,YAQtB,GAJAA,EAAW,YAAc,GAIrB,CAACK,GAAS,CAACP,EAAS,CACtBC,EAAK,YAAc,GACnBE,EAAW,YAAc,4BACzB,MACD,CAEDA,EAAW,YAAc,GAGzB,MAAMO,EAAW,CACf,UAAWH,EACX,YAAaP,CACjB,EAEEC,EAAK,YAAc,WACnB,QAAQ,IAAIS,CAAQ,EACpBZ,EAAK,MAAK,EACV,aAAa,WAAW,qBAAqB,CAC/C,CAEA,MAAMa,EAAoB,CACxB,MAAO,GACP,QAAS,EACX,EAEAZ,EAAW,iBAAiB,QAASO,GAAS,CAC5CK,EAAkB,MAAQL,EAAM,OAAO,MACvC,aAAa,QACX,sBACA,KAAK,UAAUK,CAAiB,CACpC,CACA,CAAC,EAEDX,EAAQ,iBAAiB,QAASM,GAAS,CACzCK,EAAkB,QAAUL,EAAM,OAAO,MACzC,aAAa,QACX,sBACA,KAAK,UAAUK,CAAiB,CACpC,CACA,CAAC"}