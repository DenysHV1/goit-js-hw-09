{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\nconst inputEmail = document.querySelector('.input-email');\nconst message = document.querySelector('.message');\nconst done = document.querySelector('.text');\nconst emailError = document.querySelector('.error');\nconst emptyError = document.querySelector('.empty-error');\n\nform.addEventListener('submit', oneClickSend);\n\nfunction oneClickSend(event) {\n  event.preventDefault();\n\n  const email = event.target.elements.email.value.trim().toLowerCase();\n  const message = event.target.elements.message.value.trim();\n\n    //перевірка 1\n\tconst array = ['!','£','$','%','^','&','*','(',')','_','-','+','=','#','~','/','?','{','}','[',']','`','¬','|','\"',',','<','>',':',';',];\n\n  for (let i = 0; i < array.length; i += 1) {\n    if (email.includes(array[i])) {\n      emailError.textContent = `Invalid character in name: ${array[i]}`;\n      return emailError.textContent;\n    }\n  }\n\n  emailError.textContent = '';\n\n  //перевірка 2\n\n  if (!email || !message) {\n    done.textContent = '';\n    emptyError.textContent = 'Please fill in all fields';\n    return;\n  }\n\n  emptyError.textContent = '';\n\n  //result\n   const formData = {\n    userEmail: email,\n    userMessage: message,\n  };\n\n  done.textContent = 'Success!';\n  console.log(formData);\n  form.reset();\n  localStorage.removeItem('feedback-form-state');\n}\n\nconst storedData = JSON.parse(localStorage.getItem('feedback-form-state'));\n\nif (localStorage.getItem('feedback-form-state')) {\n\tinputEmail.value = storedData.email;\n\tmessage.value = storedData.message;\n  }\n\nconst feedbackFormState = {\n\temail: storedData.email,\n\tmessage: storedData.message,\n};\n\ninputEmail.addEventListener('input', event => {\n  feedbackFormState.email = event.target.value;\n  localStorage.setItem(\n    'feedback-form-state',\n    JSON.stringify(feedbackFormState)\n  );\n});\n\nmessage.addEventListener('input', event => {\n  feedbackFormState.message = event.target.value;\n  localStorage.setItem(\n    'feedback-form-state',\n    JSON.stringify(feedbackFormState)\n  );\n});\n"],"names":["form","inputEmail","message","done","emailError","emptyError","oneClickSend","event","email","array","i","formData","storedData","feedbackFormState"],"mappings":"uFAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAa,SAAS,cAAc,QAAQ,EAC5CC,EAAa,SAAS,cAAc,cAAc,EAExDL,EAAK,iBAAiB,SAAUM,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAQD,EAAM,OAAO,SAAS,MAAM,MAAM,OAAO,cACjDL,EAAUK,EAAM,OAAO,SAAS,QAAQ,MAAM,OAG/CE,EAAQ,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAElI,QAASC,EAAI,EAAGA,EAAID,EAAM,OAAQC,GAAK,EACrC,GAAIF,EAAM,SAASC,EAAMC,CAAC,CAAC,EACzB,OAAAN,EAAW,YAAc,8BAA8BK,EAAMC,CAAC,CAAC,GACxDN,EAAW,YAQtB,GAJAA,EAAW,YAAc,GAIrB,CAACI,GAAS,CAACN,EAAS,CACtBC,EAAK,YAAc,GACnBE,EAAW,YAAc,4BACzB,MACD,CAEDA,EAAW,YAAc,GAGxB,MAAMM,EAAW,CAChB,UAAWH,EACX,YAAaN,CACjB,EAEEC,EAAK,YAAc,WACnB,QAAQ,IAAIQ,CAAQ,EACpBX,EAAK,MAAK,EACV,aAAa,WAAW,qBAAqB,CAC/C,CAEA,MAAMY,EAAa,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EAErE,aAAa,QAAQ,qBAAqB,IAC7CX,EAAW,MAAQW,EAAW,MAC9BV,EAAQ,MAAQU,EAAW,SAG5B,MAAMC,EAAoB,CACzB,MAAOD,EAAW,MAClB,QAASA,EAAW,OACrB,EAEAX,EAAW,iBAAiB,QAASM,GAAS,CAC5CM,EAAkB,MAAQN,EAAM,OAAO,MACvC,aAAa,QACX,sBACA,KAAK,UAAUM,CAAiB,CACpC,CACA,CAAC,EAEDX,EAAQ,iBAAiB,QAASK,GAAS,CACzCM,EAAkB,QAAUN,EAAM,OAAO,MACzC,aAAa,QACX,sBACA,KAAK,UAAUM,CAAiB,CACpC,CACA,CAAC"}